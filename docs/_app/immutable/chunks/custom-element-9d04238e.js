import{c as l,S as b}from"./SveltyPicker-92998097.js";import"./index-28983a80.js";const h=["value","name","placeholder","start-date","end-date","disabled","input-classes","mode","format","week-start","today-btn","clear-btn","autoclose","required"];function o(n,e){switch(n){case"value":return e||"";case"required":case"disabled":case"today-btn":case"clear-btn":case"autoclose":return e!==null&&e!=="false";case"weekStart":return parseInt(e)}return e}function a(n){return n.includes("-")?n.split("-").reduce((e,t,i)=>(i&&(t=t[0].toUpperCase()+t.substr(1)),e+t),""):n}class p extends HTMLInputElement{constructor(){super(),this.picker=null;const e=["name","placeholder","mode","format"].reduce((s,r)=>(s[r]={get(){return o(r,this.getAttribute(r))},set(c){this.setAttribute(r,c)}},s),{}),t={form:{get(){return this.closest("form")}},weekStart:{get(){return this.getAttribute("week-start")},set(s){this.setAttribute("week-start",s)}},startDate:{get(){return this.getAttribute("start-date")},set(s){s&&this.setAttribute("start-date",s),!s&&this.removeAttribute("start-date")}},endDate:{get(){return this.getAttribute("end-date")},set(s){s&&this.setAttribute("end-date",s),!s&&this.removeAttribute("end-date")}},inputClasses:{get(){return this.getAttribute("input-classes")},set(s){s&&this.setAttribute("input-classes",s),!s&&this.removeAttribute("input-classes")}}},i=["required","disabled","today-btn","clear-btn","autoclose"].reduce((s,r)=>{const c=a(r);return s[c]={get(){const u=this.hasAttribute(r),d=u?this.getAttribute(r)!=="false":!0;return u?d:l[c]},set(u){u?this.setAttribute(r,u=""):this.hasAttribute(r)?this.removeAttribute(r):this.picker.$set({[c]:u})}},s},{});Object.defineProperties(this,Object.assign({},e,t,i))}focus(){if(this.disabled)return;const e=this.querySelector("input");e&&e.focus()}static get observedAttributes(){return h}attributeChangedCallback(e,t,i){this.picker&&t!==i&&(this.picker.$set({[a(e)]:o(e,i)}),e==="value"&&(this.value=i))}connectedCallback(){if(this.picker)return;let e={inputElement:this,value:this.value};for(const t of h)this.hasAttribute(t)&&(e[a(t)]=o(t,this.getAttribute(t)));this.picker=new b({target:this.parentElement,props:e}),this.picker.$on("input",t=>{this.setAttribute("value",t.target.value),this.dispatchEvent(new Event("input"))}),this.picker.$on("blur",t=>{this.dispatchEvent(new Event("blur"))}),setTimeout(()=>{if(this.hasAttribute("from")){const t=document.getElementById(this.getAttribute("from"));t.oninput=i=>{this.picker.$set({startDate:t.value})}}if(this.hasAttribute("to")){const t=document.getElementById(this.getAttribute("to"));t.oninput=i=>{this.picker.$set({endDate:t.value})}}})}disconnectedCallback(){this.picker&&this.picker.$destroy()}}function g(n){window.customElements.define(n,p,{extends:"input"})}export{g as registerElement};
